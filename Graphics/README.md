# 그래픽스

컴퓨터를 이용해 실제 세계의 영상을 조작하거나 새로운 영상을 만들어 내는 기술

## 그래픽스 출력 기본 객체

1. 점
2. 직선
3. 다각형

- 다각형은 앞면과 뒷면으로 구분이 된다.
- 다각형의 정점의 나열 순서를 오른손으로 감을 때, 엄지 손가락의 방향이 법선
- 법선 벡터는 다각형의 앞면을 지시한다.

  - 반시계 방향으로 돌게 되면 앞면을 의미한다

- 그 외의 복잡한 도형은 기본 객체의 조합으로 이루어진다.

### 레스터화

기본 객체를 정수 좌표를 갖는 스크린(칼라버퍼, 프레임버퍼)에 그리는 과정

- 기본 객체위에 모든 점을 정수 좌표를 갖는 가까운 픽셀의 좌표로 반올림되어야 함
- 3차원 장면은 다양하고 많은 수의 그래픽스 출력 객체를 포함

### Line Drawing Algorithm

1. 직선이 통과하는 모든 픽셀을 그린다
   - 모든 점이 나와야 되므로 비효율 적이다.
2. Bresenham(MidPoint) 알고리즘
   - 기울기를 (0 < m < 1)으로 가정하고 x 좌표를 1씩 증가
   - 현재 위치 (Xk, Yk), 다음 위치는 (Xk + 1, Yk) 혹은 (Xk + 1, Yk + 1)을 선택해서 그리게 된다
   - 이때 y = mx + b의 음 함수를 표현한다 (f(x, y) = mx - y + b)
   - f(Xk + 1, Yk + 0.5) <= 0 이면 (Xk + 1, Yk)
   - f(Xk + 1, Yk + 0.5) > 0 이면 (Xk + 1, Yk + 1)

## 그래픽스 기본 설정

1. 블렌딩

2. 블렌딩 상수 지정

- (Red, Green, Blue, Aplha)

### 스캔라인 다각형 채우기

모니터에서 한줄 한줄 채워 나가는 것

1. 모든 다각형 Edge과 ScaeLine과의 교차점 계산
2. 교차점의 왼쪽에서 오른쪽으로 정렬
3. 2개의 교차점으로 구성되는 인터벌을 지정된 색상으로 채움

- 교차점이 4개 인 경우
  - 1~2 -> 내부
  - 2~3 -> 외부
  - 3~4 -> 내부
- 교차점이 3개인 경우
  - 전부 내부로 판단(2 == 3으로 판단하여 2~3 외부가 없어짐)
  - 모든 Edge를 반시계 방향으로 순회
  - 만약 교차점에서 y좌표가 단조 증가한다면 1개, 아니면 2개의 교차점으로 취급

### 경계 채우기

- 내부 픽셀에서 시작하여, 재귀적으로 이웃 픽셀을 조사
- 현재 픽셀이 내부 픽셀이면 지정된 색을 채운다.
- 4-Connected 와 8-Connected으로 대각선을 구별해서 넣을 수 있다.

### 레스터화에서 엘리어싱

- 레스터화에 의해 생성되는 계단 현상

1. 픽셀의 강도를 조정
2. Super-Sampling
   - 각 픽셀을 9개의 부분 픽셀로 분할
   - 각 부분 픽셀에서 강도를 계산하여 강도를 결정
   - 레벨에 따라 픽셀 강도를 조정
3. Area Sampling
   - 각 픽셀의 중첩 영역의 넓이에 비례하여 할당
   - 선의 두계를 둔 다음에 넓이를 구한다
