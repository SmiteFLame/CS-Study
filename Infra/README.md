# Infra(인프라)

IT 인프라 - IT의 기반으로 되어 있는 방대한 데이터들을 관리<br>
인프라 아키텍처 - IT인프라의 구조

## 아키텍처의 종류

### 집약형 아키텍처

해당 주요 업무들을 모두 한대로 처리를 하는 작업

- 리소스 관리 -> 고부하 처리 요구가 왔지만 다른 처리에 영향을 주지 않는다.
  - 하나의 처리가 실수로 대령의 요청을 보내더라도 다른 처리에 영향을 주지 않는다.
- 이중화 -> CPU 하나가 망가져도 멈추지 않는다.
- '기간 시스템'으로 불리는 업무 시스템에서 이용하고 있는 경우가 많다.(은행의 계정시스템)
- 장점
  - 한 대의 대형 컴퓨터만 있으면 되므로 구성이 간단하다
  - 대형 컴퓨터의 리소스 관리나 이중화에 의해 안정성이 높고 고성능이다
- 단점
  - 대형 컴퓨터의 도입 비용과 유지비용이 비싸다
  - 확장성의 한계가 있다

### 분할형 아키텍처

여러 대의 컴퓨터를 조합하여 하나의 시스템을 구축하는 구조

- 소형 컴퓨터도 성능을 구현할 수 있지만 여러개를 묶어서 더 특화 시킨다
- 장점
  - 낮은 비용으로 시스템을 구축할 수 있다.
  - 서버 대수를 늘릴 수 있어서 확장성이 좋다
- 단점
  - 대수가 늘아나면 관리 구조가 복잡해진다.
  - 한 대가 망가지면 영향 범위를 최소화 하기 위한 구조를 검토해야 한다.

### 물리 서버 VS 논리 서버

서버 - 분할형 아키텍처에서 이용되고 있는 컴퓨터, 컴퓨터 자체(물리) 혹은 동작하는 소프트웨어(논리)를 의미

- 웹 서버: 인터넷 접속시 HHTML 생성을 담당하는 것 / DB 서버: 대량의 데이터를 저장해서 요청에 따라 데이터를 제공하는 것
  <br>
  컴퓨터 자체를 가리키는 경우 - '물리 서버'라고 부른다

## 수직 분할형 아키텍처

- 각각의 서버가 유사한 작업을 하는지, 전혀 다른 작업을 하는지에 따라 나뉘게 된다

### 클라이언트 - 서버형 아키텍처

수직 분할형 서버

- 킅라이언트는 소형 컴퓨터(PC), 스마트 폰에 설치
- 서버는 업무 애플리케이션, 미들웨어, 데이터베이스 등의 소프트웨어를 '물리 서버' 상에서 구현
- 클라이엉ㄴ트 측에서 전용 소프트 웨어를 설치하고 사용을 해야 한다.(즉, 정기적인 업데이트가 필요)
- 장점
  - 클라이언트 측에서 많은 처리를 실행 할 수 있어서 소수의 서버로 다수의 클라이언트 처리 가능
- 단점
  - 클라이언트 측의 소프트웨어 정기 업데이트가 필요하다
  - 서버 확장성의 한계가 발생할 수 잇다.

### 3계층형 아키텍처

수직 분할형 서버

- 프레젠테이션 계층
  - 사용자 입력을 받는다
  - 웹 브라우저 화면을 표시한다
- 애플리케이션 계층
  - 사용자 요청(Request)에 따라 업무를 처리한다.
- 데이터 계층
  - 애플리케이션 계층의 요청에 따라 입출력을 한다.
- 장점
  - 서버 부하 집중 개선
  - 클라리언트 단말의 정기 업데이트가 불필요
  - '처리 반환'에 의한 서버 부하 저감
- 단점
  - 구조가 클라이언트-서버보다 복잡하다

## 수평 분할형 아키텍처

용도가 같은 서버를 늘려나가는 방법<br>
대수가 늘어나면서 한 대가 시스템에 주는 영향력이 낮아진다.<br>
또한, 처리를 담당하는 서버 대수가 늘어나면 전체적인 성능 향상도 실현할 수 있다.

### 단순 분할형 아키텍처

"Sharding(샤딩)" 혹은 "Partitioning(파니셔닝)" 이라고 부른다.

- 시스템이 둘로 분할 됨으로써 시스템의 전체 처리 성능을 두배로 향샹 시클 수 있다.
- 두개의 독립적인 시스템이 생성되기 때문에 서로 장애의 영향을 받지 않는다.
- 장점
  - 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
  - 분할된 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다.
- 단점
  - 데이터를 일원화 해서 볼 수 없다.
  - 애플리케이션 업데이트는 양쪽을 동시에 진행을 해야 한다.
  - 처리량이 균등하게 분할돼 잇지 않으면 서버별 처리양에 치우침이 생간다.

### 공유형 아키텍처

단순 분할형과 다르게 일부 계층에서 상호 접속이 이루어진다.

- 장점
  - 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
  - 분할한 시스템이 서로 다른 시스템의 데이터를 참조할 수 있다.
- 단점
  - 분할한 시스템 간 독립성이 낮아진다.
  - 공유한 계층의 확장성이 낮이진다.

## 지리 분할형 아키텍처

업부 연속성 및 시스템 가용성을 높이기 위한 방식

### 스탠바이형 아키텍처

스탠바이 구성, HA구성, 액티브-스탠바이 구성으로만 이루어져 있다.

- 최소 두 대 물리 서버가 있어 한대가 고장나면 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영하는 방식("재시작" = "Failover")
- 장점
  - 물리 서버 고장에 대처를 할 수 있따
- 단점
  - 보통 페일 오버 대상 서비스가 놀고 있는 상태가 되기 때문에 리소스 측면에서 낭비된다.
- 스탠바이를 따로 두지 않고 동시에 교차로 사용하다가, 고장나면 페일 오버를 진행한다.

### 재해 대책형 아키텍처

재해에 대해서 복구 구성을 취하고 있다.

- 서버 장비를 최소 구성 및 동시 구성으로 별도 사이트를 배치하고, 소프트 웨어도 상용 환경과 동일하게 설정한다.
- 데이터는 매일 갱신되야 되기 때문에 저장소 장비 기능, OS기능, 데이터베이스 기능 등 동기 처리를 위한 방법은 여러가지가 있다.
- 각각의 비용, 대상 데이터, 동기 연장 특성 등을 고려하여 결정
