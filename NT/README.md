# 네트워크

Net + Work의 함성어로써 컴퓨터들이 통신 기술을 이용하여 그물망 처럼 연결된 통신 이용 형태<br>
두 이상의 컴퓨터 들이 서로 통신할 수 있도록 하는 것

## OSI 7계층

1. 물리 계층(Bits) - 데이터를 전기 신호로 바꿔주는 계층
2. 데이터 링크 계층(Frame) - 데이터의 물리적인 전송과 에러 검출, 흐름 제어를 담당하는 계층
3. 네트워크 계층(Packet) - 패킷을 목적지까지 빠른 길로 전송하기 위한 계층
   1. ICMP, ARP, RARP, IP
4. 전송 계층(Segements) - 최종 수신 프로세스로 데이터의 전송을 담당하는 계층
   1. TCP, UDP
5. 세션 계층(Data) - 컴퓨터끼리 통신을 하기 위해 세션을 만드는 계층
6. 표현 계층(Data) - 데이터의 형식을 정의하는 계층
7. 응용 계층(Data) - 사용자와 직접 상호작용하는 응용 프로그램들을 포함한 계층

<hr>

## TCP/IP 5계층 

1. 물리 계층(Bits) - 데이터를 전기 신호로 바꿔주는 계층
2. 데이터 링크 계층(Frame) - 데이터의 물리적인 전송과 에러 검출, 흐름 제어를 담당하는 계층
3. 네트워크 계층(Packet, Datagrams) - 패킷을 목적지까지 빠른 길로 전송하기 위한 계층
   1. ICMP, ARP, RARP, IP
4. 전송 계층(Segements) - 최종 수신 프로세스로 데이터의 전송을 담당하는 계층
   1. TCP, UDP
5. 응용 계층(Data) - 사용자와 직접 상호작용하는 응용 프로그램들을 포함한 계층

<hr>

## 웹 동작 방식

1. 사용자가 브라우저에 URL 입력
2. 브라우저는 DNS를 통해 서버 주소를 찾음
3. HTTP 프로토콜을 사용하여 HTTP 요청 메세지를 생성함
4. TCP/IP 연결을 통해 HTTP 요청이 서버로 전송됨
5. 서버는 HTTP 프로토콜을 활용해 HTTP 응답 메세지를 생성함
6. TCP/IP 연결을 통해 요청한 컴퓨터로 전송
7. 도착한 HTTP 응답 메세지는 웹 페이지 데이터로 변환되고, 웹 브라우저에 의해 출력되어 사용자가 볼 수 있음

<hr>

## GET VS POST

GET - 데이터를 조회하기 위해 사용되는 방식으로 데이터를 헤더에 추가하여 전송하는 방식

- URL에 데이터가 노출 되기 때문에 중요한 데이터 포함하면 안된다.
- URL에 데이터 노출
- HEADER에 데이터 위치
- 캐싱 가능

POST - 데이터를 추가 또하는 수정하기 위해 데이터를 body에 추가하여 전송하는 방식

- URL에 데이터를 노출하지 않아서 GET보다 안전하다
- URL에 데이터 노출 X
- BODY에 데이터 위치
- 캐싱 불가능

<hr>

## HTTP 프로토콜 - 비연결성 프로토콜

HTTP - 서버/클라이언트 모델을 따라 데이터를 주고 받기 위한 프로콜이다.

HTTP는 애플레키에션 레벨의 프로토콜로 TCP/IP 위에서 작동한다.

HTTP를 가지고 있지 않는 상태는 Stateless 프로토콜이다.

Mehod, Path, Version, Headers, Body 등으로 구성된다.

## HTTP VS HTTPS

HTTP - 평문 데이터를 전송하는 프로토콜

- 제3자가에 의해 데이터가 조회될 수 있다.

HTTPS - HTTP에 자신의 암호화가 추가된 프로토콜

- 자신의 공개키를 갖는 인증서를 발급하여 보내는 메시지를 공개키로 암호화 한다.
- 기업을 제외한 누구도 원본데이터를 얻을 수 없다.

<hr>

## TCP VS UDP

TCP - 연결형 서비스로 3-way handshaking 과정을 통해 연결을 설정한다.

- 높은 신뢰성을 보장하지만 속도가 비교적 느리다.
- 패킷 교환 방식 - 가상 회선 방식
  - 데이터를 전송하기 전에 논리적 연결을 설정하고 가상회선이라고 한다.
  - 패킷들은 전송된 순서대로 도착
- 전송 순서 보장
- 1:1 통신

UDP - 비연결형 서비스

- 신뢰성이 떨어지지만 수신 여부를 확인하지 않아 속도가 빠르다.
- 패킷 교환 방식 - 데이터 그램 방식
  - 데이터 그램 방식: 송/수신자 사이에 가상회선이라는 논리적 경로를 결정하지 않고, 패킷들이 각기 독립적으로 전송되는 방식
  - 패킷 마다 라우터 경로를 선택한다
- 전송 순서가 바뀔 수 있다.
- 1:1 or 1:N or N:N

3-Way hand-shaking

- TCP에서 통신하는 장치간 서로 연결이 잘 되어 있는지 확인하는 방법이다.

1. A클라이언트는 B서버에 SYN 패킷을 보대고 A는 ACK를 기다린다.
2. 서버는 SYN 요청을 받고 A에게 ACK와 SYN flag가 설정한 패킷을 보낸다. 이때 서버는 받을 수 있는 상태가 된다.
3. A는 B서버에게 ACK를 보내고 이후로 부터 연결이 이루어 지면서 데이터가 오간다.

클라이언트 -> 서버 -> 클라이언트

4-way Hand-shaking

- 세션을 종료하기 위해 수행되는 절차

1. A클라이언트를 종료하겠다는 FIN 플래그를 전송후 A 클라이언트는 FIN-WAIT 상태가 된다.
2. B서버는 FIN 플래그를 받고 ACK를 보낸 후 B서버의 CLOSE_WATI 상태가 된다.
3. 연결 준비개 되면 클라이언트에게 FIN 플래그를 보내고 B서버는 LAST-ACK가 된다.
4. 클라이언트는 ACK를 보내고 TIME-WAIT으로 변경한다.

- 이때 FIN 패킷보다 늦게오는 패킷들이 있으면 전부 Drop되고 데이터는 유실된다.

클라이언트 -> 서버 -> 클라이언트 -> 서버

<hr>

## 프록시 서버

클라이언트가 자신을 거쳐 다른 네트워크에 접속할 수 있도록 중간에 대리해주는 서버를 말한다.

서버와 클라이언트 사이에서 대리로 통신을 해주는 것을 프록시라고 한다.

1. 클라이언트에서 프록시 서버로 데이터 전송
2. 프록시 서버에서 다시 웹 서버로 요청
3. 웹 서버에서 프록시 서버로 웹 응담
4. 프록시 서버에서 클라이언트로 데이터 전송

<hr>

## 네트워크 망의 종류

- LAN - 한 건물 또는 사무실 내의 호스트들 간에 연결된 소규모 네트워크
- WAN - LAN과 LAN을 연결하는 대규모 네트워크

### 패킷

- 네트워크 상에서 전송하는 데이터를 일저안 크기로 자른, 작게 나눠진 데이터의 묶음
- 누구에게 어디로 무엇을 보내야 하는지에 대한 정보가 담겨 있음, 안정성 때문에 나눠서 보냄
