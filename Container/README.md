# Container Infra

## 컨테이너 인프라 환경

컨테이너를 중심으로 구성된 인프라 환경

- 컨테이너: 하나의 운영 체제 커널에서 다른 프로세스에 영향을 받지 않고 독맂벅으로 실행된 프로세스

### 모놀로식 아키텍처

하나의 큰 목적이 있는 서비스 또는 애플리케이션에 여러 기능이 통합돼 있는 구조

- 하나의 결합된 코드로 구성되기 때문에 초기 단계에서 설계하기 용이하며 개발이 좀 더 단순하고 코드 관리가 간편하다
- 수정이 많을 경우 수정이 연관 된 서비스에 영향을 미칠 가능성이 커진다
- 서비스가 점점 성장해 기능이 추가될 수록 서비스간의 관계가 매우 복잡해진다

### 마이크로 소프트 아키텍처 (MSA)

개별 기능을 하는 작은 서비스를 각각 개발해 연결을 하게 된다

- 개발된 서비스를 재사용하기 쉽다
- 다른 서비스가 변경되었을 때 서비스에 영향을 미칠 가능성이 줄어든다
- 사용량의 변화에 따라 특정 서비스만 확장할 수 있다
- 각 서비스는 API 게이트 웨이와 REST API를 이용한 통신 방식으로 사용자의 요청을 전달한다
- 서비스 개수는 고정된 것이 아니기 때문에 어떤 서비스가 드옭되어 잇느느지 확인해야 한다

- 이러한 구조 떄문에 각 서비스는 필요한 기능에 특화된 데이터베이스를 선택해서 사용할 수 있다

### 컨테이너 인프라 환경에 맞는 아키텍처

컨테이너를 서비스 단위로 포장해 손쉽게 포배포하고 확장할 수 있으므로 MSA가 적합하다

## 컨테이너 인프라 환경을 도와주는 도구

컨테이너, 컨테이너 관리, 개발 환경 구성 및 배포 자동화, 모니터링으로 구성이 된다

### Docker(도커)

컨테이너 환경에서 애플리케이션을 실행할 수 있도록 컨테이너를 만들고 간리하는 것을 도와주는 컨테이너

### Kubernetes(쿠버네티스)

다수의 컨테이너(Docker)를 관리하는 데 사용된다.

또한, 컨테이너의 자동 배포와 배포된 컨테이너에 대한 도작 보증, 부하에 다른 동적 확장등의 기능을 제공한다

- 컨테이너를 관리할 뿐만이 아니라 컨테이너 인프라 필요한 기능을 통합하고 관리하는 솔류션으로 발전

### Jenkins(젠킨스)

지속적 통합과 지속적 배포를 지원한다

- 개발한 프로그램의 빌드, 테스트, 패키지와, 배포 단계를 모두 자동화해 개발 단계를 표준화 한다
- 개발된 코드의 빠른 적용과 효과적인 관리를 통해 개발 생산성을 높인다
- 즉, 컨테이너 인프라 환경처럼 단일 기능을 빠르게 개발해 적용해야 하는 환경에 적합하다

### Prometheus(프로메테우스) & Grafana(그라파나)

모니터링을 하기 위한 도구

- Prometheus(프로메테우스): 상태 데이터를 수집하는 용도
- Grafana(그라파나): Prometheus가 수집한 데이터를 관리가자 보기 좋게 시각화 한다
- 많은 종류의 소규모 기능이 각각 나누어 개발되기 때문에 중앙 모니터링이 필여하다

## 테스트 환경 자동으로 구성하는 도구

코드로 인프라를 생성할 수 있게 지원하는 소프트웨어는 많다

Vagrant(베이그런트)가 가장 배우기 쉽고 사용 방법도 간단하다

### Vitrual Box

이노테크에서 개발한 가상화 소프트웨어로 오라클에서 배포한다

- 현존하는 대부분의 OS에서 게스트 OS로 사용할 수 있으며 아무렌 제한 없이 무료로 가능하다

### Vagrant(베이그런트)

베이그런트는 프로비저닝을 지원한다

- Provisioning(프로비저닝): 사용자의 요구에 맞게 시스템 자원을 할당, 배치, 배포해 두었다가 필요할 때 시스템을 사용할 수 있는 상태로 만들어 준다
